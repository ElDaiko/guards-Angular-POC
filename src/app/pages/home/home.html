<h1>Home (PÃºblica)</h1>

<div class="auth-controls">
  <div class="auth-status">
    <p>
      Estado de autenticaciÃ³n:
      <span [class]="isLoggedIn ? 'logged-in' : 'logged-out'">
        {{ isLoggedIn ? 'Autenticado' : 'No autenticado' }}
      </span>
    </p>
  </div>

  <button (click)="toggleAuth()" class="auth-button">
    {{ isLoggedIn ? 'Cerrar SesiÃ³n' : 'Iniciar SesiÃ³n' }}
  </button>
</div>

<div class="test-instructions">
  <h2>ğŸ§ª CÃ³mo probar los Guards:</h2>

  <div class="step">
    <h3>1ï¸âƒ£ Probar canMatch y canActivate:</h3>
    <p>
      Con el estado actual (<strong
        >{{ isLoggedIn ? 'Autenticado' : 'No autenticado' }}</strong
      >):
    </p>
    <a [routerLink]="['/private']" class="test-link"> ğŸ”— Ir a /private </a>
    <p class="result-info">
      {{ isLoggedIn ? 'âœ… DeberÃ­as ver ambos guards permitir el acceso' : 'âŒ
      DeberÃ­as ver ambos guards denegar el acceso' }}
    </p>
  </div>

  <div class="step">
    <h3>2ï¸âƒ£ Probar canActivateChild:</h3>
    <p>Con el estado actual, intenta acceder directamente a:</p>
    <div class="child-test-links">
      <a [routerLink]="['/private/settings']" class="test-link">
        ğŸ”§ /private/settings
      </a>
      <a [routerLink]="['/private/profile']" class="test-link">
        ğŸ‘¤ /private/profile
      </a>
    </div>
    <p class="result-info">
      {{ isLoggedIn ? 'âœ… DeberÃ­as ver los 3 guards ejecutarse en orden' : 'âŒ
      Los guards deberÃ­an bloquear el acceso antes de llegar a la ruta hija' }}
    </p>
  </div>

  <div class="console-tip">
    <h3>ğŸ“‹ Abre la Consola (F12):</h3>
    <p>
      Para ver la ejecuciÃ³n de los guards en tiempo real, abre la consola del
      navegador donde verÃ¡s logs como:
    </p>
    <div class="console-example">
      <div class="log">ğŸ” [CANMATCH] AuthMatchGuard ejecutÃ¡ndose...</div>
      <div class="log">ğŸ” [CANACTIVATE] AuthGuard ejecutÃ¡ndose...</div>
      <div class="log">
        ğŸ‘¶ [CANACTIVATECHILD] AuthChildGuard ejecutÃ¡ndose...
      </div>
    </div>
  </div>
</div>

<div class="navigation">
  <h2>ğŸš€ Orden de EjecuciÃ³n:</h2>
  <p>Los guards se ejecutan en este orden especÃ­fico:</p>
  <ol class="execution-order">
    <li>
      <strong>canMatch:</strong> Determina si la configuraciÃ³n de ruta debe ser
      considerada
    </li>
    <li><strong>canActivate:</strong> Valida el acceso a la ruta padre</li>
    <li>
      <strong>canActivateChild:</strong> Valida el acceso a rutas hijas (solo si
      existe)
    </li>
  </ol>
</div>
